sudo: false
language: bash
dist: trusty

#addons:
#  apt:
#    packages:
#      - oraclejdk8

before_install:
    - sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9
    - echo 'deb http://cran.r-project.org/bin/linux/ubuntu trusty/' | sudo tee -a /etc/apt/sources.list
    - sudo apt-get -y update 
    - sudo apt-get install r-base r-base-dev
    - R --version
    - sudo add-apt-repository -y ppa:deadsnakes/ppa
    - sudo add-apt-repository -y ppa:openjdk-r/ppa
    - sudo apt-get update -q
    - sudo apt-get -y install openjdk-8-jdk
    - sudo apt-get -y install python3.6-dev
    - ln -sf `which python3.6` ${PATH%%:*}/python3 
    - wget https://bootstrap.pypa.io/get-pip.py 
    - python3 get-pip.py --user
    - easy_install --user pip
#    - sudo apt-get -y install gfortran
#    - curl -s https://cran.r-project.org/src/base/R-3/R-3.4.4.tar.gz | tar xfz -
#    - pushd . && cd R-3.4.4
#    - ./configure --prefix=${HOME}
#    - make -j 6 
#    - make -j 6 install && popd
#    - echo 'export PATH=${HOME}/lib/R/bin:$PATH' >> ~/.bash_profile && source ~/.bash_profile
#    - find $HOME -name 'Rscript'
#    - mkdir -p ~/R/library && echo '.libPaths(c("~/R/library", .libPaths()))' >> ~/.Rprofile

script:
    - bash setup.sh --help
    - bash setup.sh
